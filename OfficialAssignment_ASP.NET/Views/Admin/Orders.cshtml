@model List<OfficialAssignment_ASP.NET.Models.Order>
@{
    ViewData["Title"] = "Quản lý đơn hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5 mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Quản lý đơn hàng</h2>
        <a href="/Admin" class="btn btn-outline-secondary rounded-pill">
            <i class="fa-solid fa-arrow-left me-2"></i> Quay lại
        </a>
    </div>

    <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
        <table class="table table-hover align-middle mb-0">
            <thead class="bg-light">
                <tr>
                    <th class="py-3 ps-4">Mã đơn</th>
                    <th class="py-3">Ngày đặt</th>
                    <th class="py-3">Người nhận</th>
                    <th class="py-3">Tổng tiền</th>
                    <th class="py-3">Thanh toán</th>
                    <th class="py-3">Trạng thái</th>
                    <th class="py-3">Hành động</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="ps-4 fw-bold">#@item.Id</td>
                        <td>@item.OrderDate.ToString("dd/MM/yyyy HH:mm")</td>
                        <td>@item.ReceiverName</td>
                        <td class="fw-bold text-primary">@item.TotalAmount.ToString("N0")₫</td>
                        <td>
                            <span class="badge bg-light text-dark border">@item.PaymentMethod</span>
                            @if (item.PaymentStatus == "Đã thanh toán")
                            {
                                <span class="badge bg-success text-white ms-1"><i class="fa-solid fa-check"></i></span>
                            }
                        </td>
                        <td>
                            @if (item.Status == "Đã giao")
                            {
                                <span class="badge bg-success text-white">@item.Status</span>
                            }
                            else if (item.Status == "Đã hủy")
                            {
                                <span class="badge bg-danger text-white">@item.Status</span>
                            }
                            else
                            {
                                <span class="badge bg-warning text-dark">@item.Status</span>
                            }
                        </td>
                        <td>
                            <a href="/Admin/OrderDetails/@item.Id" class="btn btn-sm btn-primary rounded-pill px-3">
                                Xem chi tiết
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
